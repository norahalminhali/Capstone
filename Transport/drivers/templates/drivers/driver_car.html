{% extends "main/base.html" %}
{% load static %}

{% block title %}Car Information{% endblock %}

{% block content %}
<div class="auth-page">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-9 col-lg-7">
                <div class="auth-card">
                    <div class="card-body p-4 p-md-5">

                        <!-- Icon & Header -->
                        <div class="auth-header">
                            <div class="auth-icon">
                                <i class="fa-solid fa-car"></i>
                            </div>
                            <h2>
                                {% if car %}
                                    Edit Car Information
                                {% else %}
                                    Add Your Car
                                {% endif %}
                            </h2>
                            <p>Each driver can register only one car</p>
                        </div>

                        <!-- Messages -->
                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert-custom alert-{{ message.tags }}-custom">
                                    <i class="fa-solid fa-circle-exclamation"></i>
                                    <span>{{ message }}</span>
                                </div>
                            {% endfor %}
                        {% endif %}

                        <form method="POST" enctype="multipart/form-data" class="auth-form">
                            {% csrf_token %}

                            <!-- Car Information -->
                            <h5 class="form-section-title">
                                <i class="fa-solid fa-car-side"></i> Car Information
                            </h5>

                            <div class="mb-3">
                                <label class="form-label">Car Company</label>
                                {{ form.company }}
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Model</label>
                                {{ form.model }}
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Year</label>
                                    {{ form.year }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Color</label>
                                    {{ form.color }}
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Plate Number</label>
                                    {{ form.plate_number }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Seats Count</label>
                                    {{ form.seats_count }}
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">Car Registration (Istimara)</label>
                                {{ form.car_registration }}
                            </div>

                            <button type="submit" class="btn auth-btn auth-btn-primary w-100 mt-4">
                                <i class="fa-solid fa-check me-2"></i>
                                {% if car %} Update Car {% else %} Save Car {% endif %}
                            </button>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
