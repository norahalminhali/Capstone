{% extends "main/base.html" %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">

<div class="hero-section">
    <div class="hero-overlay">
        <div class="hero-content">
            <h1 class="hero-title">WESAL</h1>
            <p class="hero-subtitle">Your Trusted Transport Partner in Saudi Arabia</p>
            <div class="hero-buttons">
                <a href="{% url 'trips:all_trip_view' %}" class="btn btn-primary">Trips</a>
                <a href="#" class="btn btn-secondary">Become a Driver</a>
            </div>
        </div>
    </div>
</div>


<!-- Animated Divider Section: Riyadh Image + Big Text -->
<section class="divider-full-section my-5">
  <div class="animated-divider-box animate-divider">
    <div class="divider-content row align-items-center gx-0 gy-4 flex-nowrap" style="max-width: 1400px; margin: 0 auto;">
      <div class="col-12 col-md-5 d-flex justify-content-center align-items-center">
        <img src="{% static 'image/wesal.jpg' %}" alt="Riyadh Skyline" class="divider-img-animate" style="max-width: 370px; width: 100%; height: auto; border-radius: 18px; box-shadow: 0 8px 32px #e0b02044;" />
      </div>
      <div class="col-12 col-md-7 d-flex flex-column align-items-md-center align-items-center text-md-center text-center">
        <span class="divider-text-big">
          WESAL is your gateway to safe,<br>
          flexible, and community-driven transport across <span class="saudi-gradient">Saudi Arabia</span>.<br>
          <span style="display:inline-block; margin-top: 0.5rem;">Join us and experience a new era of smart mobility!</span>
        </span>


        <div class="w-100 d-flex justify-content-md-end justify-content-center">
          <a href="{% url 'main:about_view' %}" class="btn btn-lg fw-bold d-inline-flex align-items-center mt-4 divider-more-btn">
             More <i class="fa-solid fa-arrow-right ms-2" style="font-size:1em;"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Platform Quick Stats -->
<div class="container my-5">
  <div class="row text-center g-4">
    <div class="col-12 col-md-4">
      <div class="stat-box shadow-sm rounded-4 p-4 bg-white h-100">
        <div class="mb-2"><i class="fa-solid fa-car-side fa-2x text-warning"></i></div>
        <div class="fs-2 fw-bold">{{ drivers_count }}</div>
        <div class="text-muted">Registered Drivers</div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="stat-box shadow-sm rounded-4 p-4 bg-white h-100">
        <div class="mb-2"><i class="fa-solid fa-route fa-2x text-primary"></i></div>
        <div class="fs-2 fw-bold">{{ trips_count }}</div>
        <div class="text-muted">Created Trips</div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="stat-box shadow-sm rounded-4 p-4 bg-white h-100">
        <div class="mb-2"><i class="fa-solid fa-city fa-2x text-success"></i></div>
        <div class="fs-2 fw-bold">{{ cities_count }}</div>
        <div class="text-muted">Available Cities</div>
      </div>
    </div>
  </div>
</div>

<div class="rider-request-ad-section">
    <div class="rider-request-title d-flex justify-content-between align-items-center">
        <h1 class="animated-gradient-title">Rider Request Latest Ads</h1>
        <a href="{% url 'rider_request:list_rider_request' %}">
            Rider Request List <i class="fa-solid fa-arrow-right"></i>
        </a>    
    </div>
    <div class="row g-4">
        {% for ads in rider_requests %}
            <div class="col-md-6 col-lg-6 ">
                <div class="card shadow-sm border-0 position-relative overflow-hidden card-content">

                    <div class="card-body p-4">
                        <div class="d-flex flex-column align-items-center justify-content-center mb-3">
                            <div class="d-flex align-items-center justify-content-center  icon-box bg-warning-subtle rounded-circle p-2 " id="icon-bg">
                                <i class="fa-solid fa-location-dot"></i>
                            </div>
                            <div>
                                <h3 class="mb-0 fw-bold">{{ ads.city.name }}</h3> 
                            </div>
                        </div>
                        <!--
                        <small class="d-flex align-items-center justify-content-center text-warning fw-bold">{{ ads.price }} SAR</small>
                        -->
                        <div class="mb-4">
                            
                            <div class="d-flex flex-column justify-content-center mb-2 small text-muted gap-3">
                                <span><i class="fa-solid fa-users me-2"></i>{{ ads.total_riders }} Riders</span>
                                <span><i class="fa-solid fa-calendar-days me-2"></i>{{ ads.start_date }}</span>
                                <span><i class="fa-solid fa-clock me-2"></i>{{ ads.start_time }} - {{ ads.end_time }}</span>
                            </div>
                        </div>

                        <div class="d-grid gap-2">
                            <a href="{% url 'rider_request:detail_rider_request' ads.id %}" class="btn btn-outline-warning rounded-pill">
                                View Details
                            </a>    
                        </div>
                    </div>

                    <div class="card-footer bg-light border-0 py-3 text-center">
                        <small class="text-muted">Posted by: <strong>{{ ads.rider.user.username }}</strong></small>
                    </div>
                </div>
            </div>
        {% empty %}
        <div class="col-12 text-center py-5">
            <div class="mb-3">
                <i class="fa-solid fa-folder-open fa-4x text-light-emphasis"></i>
            </div>
            <h4>No requests available yet</h4>
            <p class="text-muted">Be the first to create a transportation request!</p>
        </div>
        {% endfor %}
    </div>
    <!-- Platform Features Section -->
    <div class="container my-5">
    <h2 class="text-center mb-4 animate-fadein section-title-gradient">Why Choose WESAL?</h2>
        <div class="row g-4 justify-content-center">
            <div class="col-12 col-md-3">
                <div class="feature-box text-center p-4 bg-white rounded-4 shadow-lg h-100 animate-feature">
                    <div class="mb-3"><i class="fa-solid fa-shield-halved fa-2x text-primary"></i></div>
                    <h5 class="fw-bold mb-2">High Security</h5>
                    <p class="text-muted mb-0">Your safety is our top priority with verified drivers and secure rides.</p>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div class="feature-box text-center p-4 bg-white rounded-4 shadow-lg h-100 animate-feature">
                    <div class="mb-3"><i class="fa-solid fa-headset fa-2x text-success"></i></div>
                    <h5 class="fw-bold mb-2">Fast Support</h5>
                    <p class="text-muted mb-0">24/7 customer support to help you anytime, anywhere.</p>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div class="feature-box text-center p-4 bg-white rounded-4 shadow-lg h-100 animate-feature">
                    <div class="mb-3"><i class="fa-solid fa-thumbs-up fa-2x text-warning"></i></div>
                    <h5 class="fw-bold mb-2">Easy to Use</h5>
                    <p class="text-muted mb-0">Simple and intuitive interface for all users.</p>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div class="feature-box text-center p-4 bg-white rounded-4 shadow-lg h-100 animate-feature">
                    <div class="mb-3"><i class="fa-solid fa-list-check fa-2x text-danger"></i></div>
                    <h5 class="fw-bold mb-2">Variety of Options</h5>
                    <p class="text-muted mb-0">Multiple ride types and flexible choices for your needs.</p>
                </div>
            </div>
        </div>
    </div>


    <!-- FAQ Section -->
    <div class="container my-5">
        <h2 class="text-center mb-4 fw-bold animate-fadein">Frequently Asked Questions</h2>
        <div class="accordion animate-faq" id="faqAccordion">
            <div class="accordion-item faq-animate-item">
                <h2 class="accordion-header" id="faq1">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                        How do I book a ride?
                    </button>
                </h2>
                <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Simply sign in, choose your trip, and confirm your booking in a few clicks.
                    </div>
                </div>
            </div>
            <div class="accordion-item faq-animate-item">
                <h2 class="accordion-header" id="faq2">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                        Is my information safe?
                    </button>
                </h2>
                <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Yes, all your data is encrypted and only accessible to authorized personnel.
                    </div>
                </div>
            </div>
            <div class="accordion-item faq-animate-item">
                <h2 class="accordion-header" id="faq3">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                        Can I become a driver?
                    </button>
                </h2>
                <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Yes! Click on "Become a Driver" and complete the registration process.
                    </div>
                </div>
            </div>
            <div class="accordion-item faq-animate-item">
                <h2 class="accordion-header" id="faq4">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                        What if I need help?
                    </button>
                </h2>
                <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Our support team is available 24/7 via chat, email, or phone.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}